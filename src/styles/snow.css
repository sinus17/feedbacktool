/* Base snow container styles */
.snow-container {
  overflow: hidden;
  pointer-events: none;
}

/* Snow particle styles */
.snow {
  position: fixed;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: snowfall linear infinite;
  will-change: transform;
}

/* Varied snow sizes and blur levels for depth */
/* Close snowflakes - sharp and large */
.snow:nth-child(6n) { 
  width: 5px; 
  height: 5px; 
  filter: blur(0px);
}
.snow:nth-child(6n+1) { 
  width: 6px; 
  height: 6px; 
  filter: blur(0.5px);
}

/* Mid-distance snowflakes - slightly blurred */
.snow:nth-child(6n+2) { 
  width: 4px; 
  height: 4px; 
  filter: blur(1px);
}
.snow:nth-child(6n+3) { 
  width: 4px; 
  height: 4px; 
  filter: blur(1.5px);
}

/* Far snowflakes - very blurred and small */
.snow:nth-child(6n+4) { 
  width: 3px; 
  height: 3px; 
  filter: blur(2px);
}
.snow:nth-child(6n+5) { 
  width: 2px; 
  height: 2px; 
  filter: blur(2.5px);
}

/* Vertical snowfall animation with minimal horizontal drift */
@keyframes snowfall {
  0% {
    transform: translateY(-10%);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  90% {
    opacity: 0.6;
    transform: translateY(100vh) translateX(var(--drift, 0));
  }
  100% {
    opacity: 0;
    transform: translateY(110vh) translateX(var(--drift, 0));
  }
}

/* Generate varied animations for snow particles */
.snow {
  animation-timing-function: linear;
  animation-duration: var(--fall-duration, 8s);
  animation-delay: var(--fall-delay, 0s);
}

/* Snowstorm styles */
.snowstorm-container {
  overflow: hidden;
  pointer-events: none;
}

.snowstorm {
  position: fixed;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: stormfall linear infinite;
  filter: blur(1px);
  will-change: transform;
}

/* Varied snowstorm sizes */
.snowstorm:nth-child(2n) { width: 4px; height: 4px; }
.snowstorm:nth-child(2n+1) { width: 6px; height: 6px; }

/* Vertical storm animation */
@keyframes stormfall {
  0% {
    transform: translateY(-10%);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(110vh);
    opacity: 0;
  }
}

/* Generate varied animations for snowstorm particles */
.snowstorm {
  animation-duration: var(--storm-duration, 2s);
  animation-delay: var(--storm-delay, 0s);
}

/* Snow accumulation at bottom */
.snow-ground {
  background: linear-gradient(
    to top,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(255, 255, 255, 0.8) 30%,
    rgba(255, 255, 255, 0.4) 70%,
    rgba(255, 255, 255, 0) 100%
  );
  transition: height 3s ease-out;
  box-shadow: 0 -10px 30px rgba(255, 255, 255, 0.3);
  position: relative;
}

/* Uneven snow surface using clip-path */
.snow-ground::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: linear-gradient(
    to top,
    rgba(255, 255, 255, 0.98) 0%,
    rgba(255, 255, 255, 0.85) 40%,
    rgba(255, 255, 255, 0.5) 75%,
    rgba(255, 255, 255, 0) 100%
  );
  clip-path: polygon(
    0% 15%,
    3% 12%,
    7% 18%,
    12% 10%,
    18% 14%,
    23% 8%,
    28% 16%,
    33% 11%,
    38% 19%,
    43% 13%,
    48% 9%,
    53% 17%,
    58% 12%,
    63% 20%,
    68% 14%,
    73% 10%,
    78% 16%,
    83% 11%,
    88% 18%,
    93% 13%,
    97% 15%,
    100% 12%,
    100% 100%,
    0% 100%
  );
}

/* Add subtle texture to snow */
.snow-ground::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),
    radial-gradient(circle at 60% 70%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.3) 1px, transparent 1px);
  background-size: 50px 50px, 80px 80px, 60px 60px;
  background-position: 0 0, 20px 20px, 40px 10px;
  opacity: 0.6;
}