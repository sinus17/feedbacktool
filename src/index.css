@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Work Sans', system-ui, sans-serif;
    /* Prevent mobile bounce/scroll */
    overscroll-behavior: none;
    touch-action: pan-x pan-y;
  }
  
  body {
    /* Prevent mobile bounce/scroll */
    overscroll-behavior: none;
  }
  
  input, textarea, select {
    @apply border-gray-300 dark:border-dark-700 rounded-md shadow-sm 
           dark:bg-dark-modal/80 dark:text-dark-50 px-3 py-2;
  }
  
  input:focus, textarea:focus, select:focus {
    @apply ring-primary-500 border-primary-500 
           dark:ring-primary-400 dark:border-primary-400;
  }

  .dark {
    color-scheme: dark;
  }

  .dark body {
    @apply bg-dark-900 text-dark-50;
  }

  table {
    @apply w-full;
  }

  th {
    @apply bg-white/80 dark:bg-dark-800 text-left font-medium 
           text-gray-500 dark:text-dark-50 border-b border-gray-200/50 
           dark:border-dark-700/50;
  }

  td {
    @apply bg-white/60 dark:bg-dark-850 text-gray-900 dark:text-dark-50;
  }

  tr:hover td {
    @apply bg-gray-50/80 dark:bg-dark-700;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center px-4 py-2 border border-transparent 
           text-sm font-medium rounded-md shadow-lg 
           text-white bg-primary-500/90 hover:bg-primary-600/90 
           dark:bg-primary-500/90 dark:hover:bg-primary-600/90 dark:text-white
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 
           dark:focus:ring-primary-400 dark:focus:ring-offset-dark-900
           transition-all;
  }

  .btn-outline {
    @apply inline-flex items-center px-4 py-2 border border-gray-300
           text-sm font-medium rounded-md shadow-sm
           text-gray-700 bg-white hover:bg-gray-50
           dark:text-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500
           dark:focus:ring-primary-400 dark:focus:ring-offset-dark-900
           transition-all;
  }

  .card {
    @apply bg-white/80 dark:bg-dark-modal/80 shadow-xl 
           overflow-hidden border border-gray-200/20 dark:border-dark-700/20;
  }

  .input {
    @apply block w-full rounded-md border-gray-300 dark:border-dark-700 
           shadow-sm focus:border-primary-500 focus:ring-primary-500 
           dark:bg-dark-modal/80 dark:text-dark-50 dark:focus:border-primary-400 
           dark:focus:ring-primary-400 sm:text-sm px-3 py-2;
  }

  .table-container {
    @apply bg-white/80 dark:bg-dark-modal/80 shadow-xl overflow-hidden rounded-lg;
  }

  .table-header {
    @apply bg-gray-50/80 dark:bg-dark-800 text-gray-500 dark:text-dark-50;
  }

  .table-row {
    @apply hover:bg-gray-50/80 dark:hover:bg-dark-700;
  }

  .table-cell {
    @apply text-gray-900 dark:text-dark-50;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black/50 z-50;
  }

  .modal-content {
    @apply bg-white/90 dark:bg-dark-modal/90 shadow-2xl rounded-lg 
           border border-gray-200/20 dark:border-dark-700/20 
           backdrop-blur-md transition-all;
  }

  .modal-header {
    @apply border-b border-gray-200/20 dark:border-dark-700/20 
           bg-white/95 dark:bg-dark-modal/95 backdrop-blur-md;
  }

  .status-badge {
    @apply px-2 py-1 text-xs font-semibold rounded-full shadow-sm;
  }

  .status-badge-new {
    @apply bg-blue-100/90 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200;
  }

  .status-badge-pending {
    @apply bg-yellow-100/90 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-200;
  }

  .status-badge-success {
    @apply bg-green-100/90 text-green-800 dark:bg-green-900/50 dark:text-green-200;
  }

  .status-badge-error {
    @apply bg-red-100/90 text-red-800 dark:bg-red-900/50 dark:text-red-200;
  }

  .message-bubble {
    @apply rounded-lg p-3 shadow-lg;
  }

  .message-bubble-own {
    @apply bg-primary-500/90 text-white dark:bg-primary-500/90;
  }

  .message-bubble-other {
    @apply bg-gray-100/90 text-gray-800 dark:bg-dark-700/90 dark:text-dark-50;
  }

  .sidebar {
    @apply bg-dark-900/95 shadow-xl border-r border-dark-700/20;
  }

  .sidebar-item {
    @apply text-dark-50 hover:bg-dark-700/80 hover:text-white transition-colors;
  }

  .sidebar-item-active {
    @apply text-primary-400 bg-dark-700/90;
  }

  .glass {
    @apply bg-white/80 dark:bg-dark-modal/80 shadow-xl 
           border border-gray-200/20 dark:border-dark-700/20;
  }

  .glass-sm {
    @apply bg-white/90 dark:bg-dark-modal/90 shadow-lg 
           border border-gray-200/20 dark:border-dark-700/20;
  }

  .read-check {
    @apply text-dark-600;
  }

  /* Calendar specific styles */
  .rbc-calendar {
    @apply font-sans bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden;
  }
  }
  .rbc-event {
    @apply cursor-move transition-transform duration-200 ease-in-out;
  }

  .rbc-event:hover {
    @apply transform scale-[1.02];
  }

  .rbc-event.rbc-dragging {
    @apply scale-105 shadow-xl opacity-50 z-50;
  }

  .rbc-event.rbc-dragging-external {
    @apply opacity-25;
  }

  .rbc-addons-dnd-drag-preview {
    @apply shadow-2xl scale-105 opacity-90 z-50;
  }

  .rbc-addons-dnd-resize-ns-anchor {
    @apply hidden;
  }

  .rbc-addons-dnd-resize-ew-anchor {
    @apply hidden;
  }

  .rbc-agenda-view {
    @apply !border-0 overflow-hidden;

  /* Remove border from date column to eliminate divider */
  .rbc-agenda-table thead th:nth-child(2) {
    @apply !border-l-0 !w-32;
  }

  .rbc-agenda-table thead th:nth-child(3) {
    @apply !w-20;
  }

  .rbc-agenda-table thead th:nth-child(4) {
    @apply !w-auto;
  }

  /* Remove left border from event column header */
  .rbc-agenda-table thead th:last-child {
    @apply !border-l-0;
  }

  @media (max-width: 640px) {
    .rbc-agenda-table th,
    .rbc-agenda-table td {
      @apply px-4 py-3;
    }

    .event-actions {
      @apply flex-col items-start gap-2;
    }
  }
}

/* Gemini Scanning Animation */
@keyframes scan {
  0% {
    top: 0%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    top: 100%;
    opacity: 1;
  }
  60% {
    opacity: 0;
  }
  61% {
    top: 100%;
    opacity: 0;
  }
  70% {
    opacity: 1;
  }
  100% {
    top: 0%;
    opacity: 1;
  }
}

/* Hide scrollbar but keep functionality */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
}